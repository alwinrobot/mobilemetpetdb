<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset = "utf-8">
  <title> Search </title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

  <style>

  </style>

</head>

<body>
 <div class="navbar">
    <nav role="navigation" class="navbar navbar-default">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/latlong/" class="navbar-brand">MetPetDB</a>
        </div>
        <!-- Collection of nav links and other content for toggling -->
        <div id="navbarCollapse" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="/latlong/">Home</a></li>
            </ul>
        </div>
    </nav>
  </div>
  <header>
  </header>
    <div class = "container">
      <div class= "jumbotron">
        
        <form action = "/radius/" id = "latlong" role = "form" method="GET">
        <div class = "page header">
          <h1> Input Coordinates </h1>
        </div>
        <!--   <div class = "form-group">    
            <label for "radius"> Radius: </label>
            <input type="number" name="radius" min="0" max="500" step="50" class = "form-control" id = "radius">
          </div> -->
          
          <div class = "form-group">
            <label for = "Latitude"> Latitude: </label>
            <input name = "Latitude" required type = "number" min = "-90" max = "90" step = "any" class = "form-control" id = "Latitude">
            <label for = "Longitude"> Longitude: </label>
            <input name = "Longitude" required type = "number" min = "-180" max = "180" step = "any" class = "form-control" id = "Longitude">
           <button type= "submit" class = "btn btn-info"> Submit </button>
          </div>
        </form>

        <div class = "page header">
          <h2> OR </h2>
        </div>

        <form action = "/radius/" id = "select" role = "form" method="GET">
            <input name = "gLatitude" type = "hidden" class = "form-control" id = "gLatitude" value = "0">
            <input name = "gLongitude" type = "hidden" class = "form-control" id = "gLongitude" value = "0">
            <script type="text/javascript">
              navigator.geolocation;

              function showlocation(position) {
                var geolat = position.coords.latitude;
                var geolng = position.coords.longitude;
              }
              function errorHandler(err)
              {
                if(err.code == 1) {
                  alert("Error: Access is denied");
                }
                else if (err.code == 2) {
                  alert("Error: Position is unavailable")
                }
              }
              function getLocation(){
                if(navigator.getlocation){
                  var options = {timeout:60000};
                  navigator.geolocation.getCurrentPosition(showlocation, errorHandler, options)
                  var geolat = position.coords.latitude;
                  var geolng = position.coords.longitude;
                  document.write('<button type= "submit" class = "btn btn-info"> Use Current Location </button>');
                }
                else{
                  alert("Browser does not support geolocation");
                   document.write('<button type= "submit" disabled class = "btn btn-info"> Use Current Location </button>');
                }
              }
              this.getLocation();
            </script>
            
        </form>


        <div class = "page header">
          <h2> OR </h2>
        </div>
          

          <form action = "/radius/" id = "select" role = "form" method="GET">
            <input name = "Latitude" type = "hidden" class = "form-control" id = "Latitude" value = "0">
            <input name = "Longitude" type = "hidden" class = "form-control" id = "Longitude" value = "0">
            <button type= "submit" class = "btn btn-info"> Select Coordinates Using Map </button>
          </form>
        
      </div>
    </div>
  <footer>
  </footer>
  <!-- Latest compiled and minified JavaScript -->
  <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
</body>
</html>